@startuml vista-logica
title Vista LÃ³gica - Clases Principales

skinparam classAttributeIconSize 0

package "Frontend" {
  class AuthContext {
    + user: User
    + login()
    + logout()
  }
  
  class APIService {
    + get()
    + post()
  }
  
  class ProtectedRoute {
    + allowedRoles[]
  }
}

package "Backend" {
  class SessionRoutes {
    + POST /sessions
    + GET /sessions
  }
  
  class AuthMiddleware {
    + verifyToken()
  }
  
  class SessionService {
    + createSession()
    + getSessionsByUser()
  }
  
  class SessionRepository {
    + save()
    + findByUser()
  }
}

package "Firebase" {
  class Firestore {
    + collection()
    + getDoc()
  }
  
  class Authentication {
    + signIn()
    + signOut()
  }
}

' Relaciones
ProtectedRoute --> AuthContext
APIService --> SessionRoutes

SessionRoutes --> AuthMiddleware
AuthMiddleware --> Authentication

SessionRoutes --> SessionService
SessionService --> SessionRepository
SessionRepository --> Firestore

AuthContext --> APIService
AuthContext --> Authentication

@enduml
